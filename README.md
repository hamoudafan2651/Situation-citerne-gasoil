# نظام تنظيم صهاريج الوقود TQ14

نظام احترافي وحديث لتنظيم ومراقبة حركة صهاريج الوقود مع نظام مصادقة محلي وتحليلات تفاعلية.

## المميزات الرئيسية

**نظام المصادقة والمستخدمين:**
- تسجيل دخول آمن برقم بطاقة الوظيفة (4 أرقام) ورمز مرور
- إنشاء حسابات متعددة مع أيقونات مخصصة لكل مستخدم
- تخزين محلي آمن للبيانات (localStorage)

**إدارة البيانات:**
- إدخال بيانات صهاريج الوقود بسهولة وسرعة
- تخزين JSON محلي يدعم عدة مستخدمين في وقت واحد
- إمكانية الرجوع للبيانات القديمة والتاريخية

**لوحة التحكم والتحليلات:**
- ساعة رقمية محدثة لحظياً مع التاريخ والوقت
- رسوم بيانية تفاعلية لحركة التحميل بالساعة
- إحصائيات فورية (إجمالي الكميات المحملة والمطلوبة)
- جدول بيانات قابل للبحث والفلترة

**التصدير والتنزيل:**
- تنزيل البيانات بصيغة JSON حسب التاريخ المحدد
- دعم تصدير البيانات لفترات زمنية محددة

**التصميم:**
- تصميم Industrial Brutalism احترافي
- واجهة مستجيبة (Responsive) تعمل على جميع الأجهزة
- ألوان آمنة وعالية التباين (برتقالي وسلاتي رمادي)

## المتطلبات

- Node.js 18+ و npm أو pnpm
- متصفح حديث يدعم ES6+

## التثبيت المحلي

```bash
# استنساخ المستودع
git clone https://github.com/hamoudafan2651/Situation-citerne-gasoil.git
cd Situation-citerne-gasoil

# تثبيت المتطلبات
pnpm install

# تشغيل خادم التطوير
pnpm dev

# سيتم فتح الموقع على http://localhost:5173
```

## البناء للإنتاج

```bash
# بناء المشروع
pnpm build

# معاينة النسخة المبنية
pnpm preview
```

---

## نشر على Render

Render توفر استضافة مجانية وسهلة للمشاريع الثابتة. اتبع الخطوات التالية:

### الخطوة 1: إعداد المستودع

تأكد من أن المستودع على GitHub يحتوي على جميع الملفات:

```bash
git status
git add .
git commit -m "Ready for deployment"
git push origin main
```

### الخطوة 2: إنشاء حساب على Render

1. اذهب إلى [render.com](https://render.com)
2. اضغط على **Sign Up** وسجل دخول باستخدام حسابك على GitHub
3. وافق على الأذونات المطلوبة

### الخطوة 3: إنشاء خدمة جديدة

1. من لوحة التحكم، اضغط على **New +** ثم اختر **Static Site**
2. اختر **Connect a repository** وحدد مستودع `Situation-citerne-gasoil`
3. ملء التفاصيل:
   - **Name:** `situation-citerne-gasoil` (أو اسم من اختيارك)
   - **Build Command:** `pnpm install && pnpm build`
   - **Publish Directory:** `dist`

### الخطوة 4: الإعدادات المتقدمة (اختياري)

إذا أردت تخصيص اسم النطاق:

1. اضغط على **Settings** من لوحة التحكم
2. اذهب إلى **Custom Domain**
3. أدخل اسم النطاق المخصص (مثل `fuel-tracker.com`)
4. اتبع التعليمات لتحديث DNS

### الخطوة 5: النشر التلقائي

- Render سيقوم تلقائياً بإعادة بناء ونشر الموقع عند كل دفع (push) إلى الفرع `main`
- يمكنك مراقبة حالة النشر من لوحة التحكم
- الموقع سيكون متاحاً على رابط مثل: `https://situation-citerne-gasoil.onrender.com`

### الخطوة 6: التحقق من الموقع

```bash
# تحقق من أن الموقع يعمل بشكل صحيح
curl https://situation-citerne-gasoil.onrender.com
```

---

## أوامر مفيدة

```bash
# تثبيت المتطلبات
pnpm install

# تشغيل خادم التطوير
pnpm dev

# فحص الأخطاء في TypeScript
pnpm check

# تنسيق الكود
pnpm format

# بناء المشروع
pnpm build

# معاينة النسخة المبنية
pnpm preview
```

---

## هيكل المشروع

```
situation-citerne-gasoil/
├── client/
│   ├── public/
│   │   └── images/          # الصور والأصول البصرية
│   ├── src/
│   │   ├── components/      # مكونات React
│   │   ├── contexts/        # React Contexts (Auth, Data)
│   │   ├── pages/           # صفحات التطبيق
│   │   ├── lib/             # دوال مساعدة
│   │   ├── App.tsx          # المكون الرئيسي
│   │   ├── main.tsx         # نقطة الدخول
│   │   └── index.css        # الأنماط العامة
│   └── index.html           # ملف HTML الرئيسي
├── server/                  # ملفات الخادم (للتوافقية)
├── shared/                  # ملفات مشتركة
├── package.json             # المتطلبات والأوامر
├── vite.config.ts           # إعدادات Vite
├── tsconfig.json            # إعدادات TypeScript
└── README.md                # هذا الملف
```

---

## البيانات والتخزين

جميع البيانات يتم تخزينها محلياً في `localStorage`:

- **scg_users_db:** قاعدة بيانات المستخدمين (تتضمن كلمات المرور)
- **scg_users:** قائمة المستخدمين العامة
- **scg_current_user:** بيانات المستخدم الحالي
- **scg_records:** سجلات الصهاريج

**ملاحظة مهمة:** البيانات محلية فقط ولا يتم إرسالها إلى أي خادم. تأكد من عمل نسخة احتياطية من البيانات بانتظام.

---

## المتطلبات البيئية

لا توجد متطلبات بيئية خاصة. التطبيق يعمل بالكامل في المتصفح بدون الحاجة إلى خادم خلفي.

---

## استكشاف الأخطاء

### الموقع لا يحمل على Render

1. تحقق من سجلات النشر (Deployment Logs) في لوحة التحكم
2. تأكد من أن `pnpm install` و `pnpm build` يعملان بدون أخطاء محلياً
3. تحقق من أن ملف `dist/index.html` موجود بعد البناء

### البيانات تختفي بعد تحديث الصفحة

- هذا طبيعي إذا كنت تستخدم متصفح في وضع "Private/Incognito"
- جرب في وضع التصفح العادي
- تحقق من أن localStorage مفعل في إعدادات المتصفح

### مشاكل في الأداء

- امسح ذاكرة التخزين المؤقت (Cache) في المتصفح
- جرب متصفح آخر للتحقق من المشكلة
- تحقق من حجم البيانات المخزنة في localStorage

---

## المساهمة والتطوير

للمساهمة في تطوير المشروع:

1. انسخ المستودع (Fork)
2. أنشئ فرع جديد (`git checkout -b feature/amazing-feature`)
3. قم بالتغييرات والاختبار
4. ادفع التغييرات (`git push origin feature/amazing-feature`)
5. افتح طلب دمج (Pull Request)

---

## الترخيص

هذا المشروع مرخص تحت MIT License.

---

## المعلومات الإضافية

**المنظمة:** SNIM - DIRECTION GENERALE  
**القسم:** Surveillance Zouerate  
**المسؤول:** Abdellahi NAVEE  
**الإصدار:** 1.0.0  
**آخر تحديث:** 27 يناير 2026

---

## الدعم والمساعدة

إذا واجهت أي مشاكل أو لديك استفسارات:

1. تحقق من سجلات المتصفح (Browser Console) للأخطاء
2. جرب مسح البيانات المحلية وإعادة التشغيل
3. تأكد من استخدام نسخة حديثة من المتصفح

---

**تم إنشاء هذا النظام بواسطة Manus AI**
